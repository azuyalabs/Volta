webpackJsonp([16],{"B/MF":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("En79"),s=n.n(i),o=n("mtWM"),r=n.n(o),a=n("vQvv"),c=(n.n(a),n("7dEC")),l=(n.n(c),n("N0pv")),u=(n.n(l),n("818B")),d=(n.n(u),n("p5zv")),v=(n.n(d),n("YLvq")),f=(n.n(v),n("nQ6v")),p=n("odLt");function m(t,e,n,i,s,o,r){try{var a=t[o](r),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(i,s)}e.default={components:{StatusIndicator:p.a},props:{},data:function(){return{sortBy:"name",sortDesc:!1,fields:[{key:"details",label:""},{key:"name",label:"Name",sortable:!0},{key:"model",sortable:!0},{key:"hourlyRate",label:"Cost per hour",sortable:!1},{key:"actions",label:""},{key:"extra",label:""},{key:"status",label:"Status",class:"text-center"}],filter:null,totalRows:0,currentPage:1,perPage:5,collection:[]}},mounted:function(){this.getCollection(),setInterval(this.getCollection,2e4)},methods:{isActive:function(t){return!(!t.reference_id||!["cancelling","operational","finishing"].includes(t.status))},isRunning:function(t){return!(!t.reference_id||!["printing","resuming"].includes(t.status))},isPaused:function(t){return!(!t.reference_id||!["paused","pausing"].includes(t.status))},isOffline:function(t){return!(!t.reference_id||"offline"!==t.status)},isUnknown:function(t){return!(!t.reference_id||t.status)},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},deleteInstance:function(t){var e=this,n=confirm("Do you really want to delete this machine?"),i=this.collection.findIndex(function(e){return e.id===t});!0===n&&r.a.delete("/api/machines/"+t).then(function(t){e.collection.splice(i,1)}).catch(function(t){console.log(t)})},getCollection:function(){var t,e=(t=s.a.mark(function t(){var e,n,i,o,a,c;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.a.get("/api/machines");case 3:for(e=t.sent,n=e.data.data,this.collection=[],i=0;i<n.length;i++){for(c in(o={}).id=n[i].id,a=n[i].attributes)a.hasOwnProperty(c)&&(o[c]=a[c]);this.collection.push(o)}t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",[]);case 13:case"end":return t.stop()}},t,this,[[0,9]])}),function(){var e=this,n=arguments;return new Promise(function(i,s){var o=t.apply(e,n);function r(t){m(o,i,s,r,a,"next",t)}function a(t){m(o,i,s,r,a,"throw",t)}r(void 0)})});return function(){return e.apply(this,arguments)}}(),moneyFormat:f.b}}},P6TI:function(t,e,n){var i=n("VU/8")(n("B/MF"),n("eQge"),!1,null,null,null);t.exports=i.exports},eQge:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"d-flex"},[n("div",{staticClass:"p-2"},[n("b-link",{staticClass:"btn btn-primary btn-sm text-uppercase",attrs:{href:"/machines/create",title:"Add a new Machine"}},[n("svgicon",{staticClass:"button-icon-sm",attrs:{icon:"plus",color:"#fff"}}),t._v("\n                add\n            ")],1)],1),t._v(" "),n("div",{staticClass:"ml-auto p-2"},[n("b-form-group",{attrs:{horizontal:""}},[n("b-input-group",[n("b-form-input",{attrs:{placeholder:"Search..."},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),n("b-input-group-append",[n("b-btn",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1)]),t._v(" "),n("b-table",{staticClass:"volta",attrs:{"sort-by":t.sortBy,"sort-desc":t.sortDesc,filter:t.filter,items:t.collection,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"name",fn:function(e){return[n("b-link",{on:{click:function(t){return t.stopPropagation(),e.toggleDetails(t)}}},[t._v(t._s(e.value))])]}},{key:"hourlyRate",fn:function(e){return[t._v(t._s(t.moneyFormat(e.value))+"\n        ")]}},{key:"details",fn:function(t){return[n("b-link",{attrs:{title:"View more details"},on:{click:function(e){return e.stopPropagation(),t.toggleDetails(e)}}},[n("svgicon",{staticClass:"action-icon-sm",class:{"svg-right":t.detailsShowing},attrs:{icon:"details"}})],1)]}},{key:"actions",fn:function(e){return[n("b-dropdown",{attrs:{variant:"link",size:"sm","no-caret":""}},[n("template",{slot:"button-content"},[n("svgicon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"action-icon-md",attrs:{title:"More actions",icon:"actions"}})],1),t._v(" "),n("b-dropdown-item",{attrs:{href:"/machines/"+e.item.id+"/edit",title:"Edit machine `"+e.item.name+"`"}},[t._v("Edit\n                ")]),t._v(" "),n("b-dropdown-item",{attrs:{href:"#",title:"Delete machine `"+e.item.name+"`"},on:{click:function(n){return n.stopPropagation(),t.deleteInstance(e.item.id)}}},[t._v("Delete\n                ")])],2)]}},{key:"extra",fn:function(e){return[e.item.reference_id?n("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{pill:"",variant:"success",title:"Paired with OctoPrint"}},[t._v("OctoPrint\n            ")]):t._e()]}},{key:"status",fn:function(e){return[t.isActive(e.item)?n("status-indicator",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{active:"",title:"Ready"}}):t._e(),t._v(" "),t.isRunning(e.item)?n("status-indicator",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{positive:"",pulse:"",title:"Printing in progress..."}}):t._e(),t._v(" "),t.isPaused(e.item)?n("status-indicator",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{intermediary:"",title:"Paused"}}):t._e(),t._v(" "),t.isOffline(e.item)?n("status-indicator",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{negative:"",title:"Offline / Disconnected"}}):t._e(),t._v(" "),t.isUnknown(e.item)?n("status-indicator",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Unknown"}}):t._e()]}},{key:"row-details",fn:function(e){return[n("b-card",{staticClass:"collection-row-detail"},[n("div",{staticClass:"d-flex justify-content-start"},[n("div",{staticClass:"p-2"},[n("table",{staticClass:"table detail-table"},[n("tbody",[n("tr",[n("th",{attrs:{scope:"row"}},[t._v("Lifespan")]),t._v(" "),n("td",[t._v(t._s(e.item.lifespan)+" years")])]),t._v(" "),n("tr",[n("th",{attrs:{scope:"row"}},[t._v("Operating Hours")]),t._v(" "),n("td",[t._v(t._s(e.item.operating_hours))])]),t._v(" "),n("tr",[n("th",{attrs:{scope:"row"}},[t._v("Energy Consumption")]),t._v(" "),n("td",[t._v(t._s(e.item.energy_consumption)+" W")])])])])]),t._v(" "),n("div",{staticClass:"p-2 pl-4"},[n("table",{staticClass:"table detail-table"},[n("tr",{staticClass:"money"},[n("th",[t._v("Acquisition Cost")]),t._v(" "),n("td",[t._v(t._s(t.moneyFormat(e.item.acquisition_cost)))])]),t._v(" "),n("tr",{staticClass:"money"},[n("th",{attrs:{scope:"row"}},[t._v("Residual Value")]),t._v(" "),n("td",[t._v(t._s(t.moneyFormat(e.item.residual_value)))])]),t._v(" "),n("tr",{staticClass:"money"},[n("th",{attrs:{scope:"row"}},[t._v("Maintenance Cost")]),t._v(" "),n("td",[t._v(t._s(t.moneyFormat(e.item.maintenance_cost)))])]),t._v(" "),n("tr",{staticClass:"money"},[n("th",{attrs:{scope:"row"}},[t._v("Total Lifetime Cost")]),t._v(" "),n("th",{staticClass:"footer"},[t._v("\n                                    "+t._s(t.moneyFormat(e.item.lifetime_cost))+"\n                                ")])])])])])])]}}])}),t._v(" "),n("div",{staticClass:"d-flex align-items-center flex-column"},[t.totalRows>t.perPage?n("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)],1)},staticRenderFns:[]}},odLt:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return l});var i={name:"StatusIndicator"},s=function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"status-indicator"})};s._withStripped=!0;var o,r,a,c,l=(o=void 0!==s?{render:s,staticRenderFns:[]}:{},r=void 0,a=!1,"undefined"!=typeof __vue_create_injector_ssr__&&__vue_create_injector_ssr__,(c=(void 0===i?{}:i)||{}).__file="/Users/coderdiaz/github.com/coderdiaz/vue-status-indicator/src/components/StatusIndicator.vue",c.render||(c.render=o.render,c.staticRenderFns=o.staticRenderFns,c._compiled=!0,a&&(c.functional=!0)),c._scopeId=r,c),u={install:function t(e){t.installed||(t.installed=!0,e.component("StatusIndicator",l))}},d=null;"undefined"!=typeof window?d=window.Vue:void 0!==t&&(d=t.Vue),d&&d.use(u)}).call(e,n("DuR2"))}});