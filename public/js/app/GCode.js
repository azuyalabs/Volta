webpackJsonp([18],{"0xYl":function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("b-container",{staticClass:"container",attrs:{fluid:""}},[s("div",{staticClass:"d-flex"},[s("div",[s("h1",{staticClass:"display-5 text-uppercase"},[t._v("Cost Estimator")]),t._v(" "),s("h3",{staticClass:"display-5 text-capitalize"},[t._v("3D Print Job `"+t._s(t.printJob.name)+"`")])])]),t._v(" "),s("p",{staticClass:"text-muted mt-2",staticStyle:{"font-size":"medium"}},[t._v("\n        Use this Cost Estimator to quickly see how much a 3D Print Job will cost. The estimated\n        cost is based on the consumed material and used machine. Simply select a filament spools\n        and machine for this print job and the cost will be calculated instantly.\n    ")]),t._v(" "),s("div",{staticClass:"form-row"},[s("b-form-group",{attrs:{label:"3D Printer","label-for":"input_machine"}},[s("b-form-select",{staticClass:"col-md-12",attrs:{id:"input_machine",plain:!1,options:t.machines},on:{change:t.updateMachine},model:{value:t.machine,callback:function(i){t.machine=i},expression:"machine"}})],1),t._v(" "),s("b-form-group",{staticClass:"ml-3",attrs:{label:"Filament Spool","label-for":"input_filamentspool"}},[s("b-form-select",{staticClass:"col-md-12",attrs:{id:"input_filamentspool",plain:!1,options:t.filamentSpools},on:{change:t.updateFilament},model:{value:t.filamentSpool,callback:function(i){t.filamentSpool=i},expression:"filamentSpool"}})],1)],1),t._v(" "),s("div",{staticClass:"card-deck mt-3"},[s("div",{staticClass:"card-volta card"},[s("div",{staticClass:"card-header"},[t._v("Cost Overview")]),t._v(" "),t.filamentSpool?s("div",{staticClass:"card-body"},[s("p",{staticClass:"text-muted",staticStyle:{"font-size":"small","text-transform":"uppercase"}},[t._v("\n                    Estimated Print Time: "+t._s(t.estimatedPrintTime)+"\n                ")]),t._v(" "),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-sm-1"},[s("b-link",{attrs:{title:"View more details"},on:{click:function(i){i.stopPropagation(),t.filamentDetails=!t.filamentDetails}}},[s("svgicon",{staticClass:"action-icon-sm",class:{"svg-right":t.filamentDetails},attrs:{icon:"details"}})],1)],1),t._v(" "),s("div",{staticClass:"col-sm-7"},[s("strong",[t._v("Filament")])]),t._v(" "),s("div",{staticClass:"col-sm-2 text-right"},[t._v(t._s(t.moneyFormat(t.filamentCost)))])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.filamentDetails,expression:"filamentDetails"}],staticClass:"row mb-3 container"},[s("div",{staticClass:"row ml-3"},[s("div",{staticClass:"col text-muted"},[t._v("\n                            "+t._s(t.numberFormat(this.printJob.filamentInLength/1e3))+" m of\n                            "),s("svg",{attrs:{height:"20",width:"20"}},[s("circle",{attrs:{cx:"10",cy:"10",r:"10",fill:t.filamentSpool.color_value}})]),t._v(" "),s("span",[t._v(t._s(t.filamentSpool.manufacturer)+" "+t._s(t.filamentSpool.name)+"\n                                "),s("span",{staticStyle:{"text-transform":"uppercase"}},[t._v(t._s(t.filamentSpool.material))])]),t._v("\n                            (at a rate of ~\n                            "+t._s(t.moneyFormat(t.filamentSpool.unitPrice.length))+" p/m)\n                        ")])]),t._v(" "),s("div",{staticClass:"row ml-3"},[s("div",{staticClass:"col text-muted"},[t._v("\n                            ("+t._s(t.numberFormat(this.printJob.filamentInLength/1e3))+" m =\n                            "+t._s(t.numberFormat(t.usedFilamentInVolume))+" cm"),s("sup",[t._v("3")]),t._v(" =\n                            "+t._s(t.numberFormat(t.usedFilamentInWeight))+" g)\n                        ")])])]),t._v(" "),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-sm-1"},[s("b-link",{attrs:{title:"View more details"},on:{click:function(i){i.stopPropagation(),t.electricityDetails=!t.electricityDetails}}},[s("svgicon",{staticClass:"action-icon-sm",class:{"svg-right":t.electricityDetails},attrs:{icon:"details"}})],1)],1),t._v(" "),s("div",{staticClass:"col-sm-7"},[s("strong",[t._v("Electricity")])]),t._v(" "),s("div",{staticClass:"col-sm-2 text-right"},[t._v(t._s(t.moneyFormat(t.electricityCost)))])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.electricityDetails,expression:"electricityDetails"}],staticClass:"row mb-3 container"},[s("div",{staticClass:"row ml-3"},[s("div",{staticClass:"col text-muted"},[t._v("\n                            "+t._s(t.numberFormat(t.powerConsumption,4))+" kWh (at a rate of ~ ¥27\n                            p/kWh)\n                        ")])])]),t._v(" "),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-sm-1"},[s("b-link",{attrs:{title:"View more details"},on:{click:function(i){i.stopPropagation(),t.machineDetails=!t.machineDetails}}},[s("svgicon",{staticClass:"action-icon-sm",class:{"svg-right":t.machineDetails},attrs:{icon:"details"}})],1)],1),t._v(" "),s("div",{staticClass:"col-sm-7"},[s("strong",[t._v("Machine")])]),t._v(" "),s("div",{staticClass:"col-sm-2 text-right"},[t._v(t._s(t.moneyFormat(t.machineCost)))])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.machineDetails,expression:"machineDetails"}],staticClass:"row mb-3 container"},[s("div",{staticClass:"row ml-3"},[s("div",{staticClass:"col text-muted"},[t._v("\n                            At a rate of ~ "+t._s(t.moneyFormat(t.machine.hourlyRate))+" p/h\n                        ")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-1 pt-3"}),t._v(" "),s("div",{staticClass:"col-sm-7 pt-3",staticStyle:{"border-top":"1px solid #f00"}},[s("strong",[t._v("Total")])]),t._v(" "),s("div",{staticClass:"col-sm-2 pt-3 text-right",staticStyle:{"border-top":"1px solid #f00"}},[t._v("\n                        "+t._s(t.moneyFormat(t.totalCost))+"\n                    ")])]),t._v(" "),s("b-progress",{staticClass:"mb-3 mt-3",attrs:{"show-value":"",max:t.totalCost,height:"2rem"}},[s("b-progress-bar",{attrs:{variant:"success",value:t.filamentCost}}),t._v(" "),s("b-progress-bar",{attrs:{variant:"warning",value:t.electricityCost}}),t._v(" "),s("b-progress-bar",{attrs:{variant:"info",value:t.machineCost}})],1),t._v(" "),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-4"},[s("svg",{attrs:{height:"20",width:"20"}},[s("circle",{attrs:{cx:"10",cy:"10",r:"10",fill:"#28a745"}})]),t._v(" "),s("span",{staticClass:"text-muted",staticStyle:{"font-size":"small","text-transform":"uppercase"}},[t._v("Filament")])]),t._v(" "),s("div",{staticClass:"col-4"},[s("svg",{attrs:{height:"20",width:"20"}},[s("circle",{attrs:{cx:"10",cy:"10",r:"10",fill:"#ffc107"}})]),t._v(" "),s("span",{staticClass:"text-muted",staticStyle:{"font-size":"small","text-transform":"uppercase"}},[t._v("Electricity")])]),t._v(" "),s("div",{staticClass:"col-4"},[s("svg",{attrs:{height:"20",width:"20"}},[s("circle",{attrs:{cx:"10",cy:"10",r:"10",fill:"#17a2b8"}})]),t._v(" "),s("span",{staticClass:"text-muted",staticStyle:{"font-size":"small","text-transform":"uppercase"}},[t._v("Machine")])])]),t._v(" "),s("p",{staticClass:"text-muted",staticStyle:{"font-size":"small","text-transform":"uppercase"}},[t._v("\n                    The cost per hour for this print job would equate to\n                    "),s("strong",[t._v(t._s(t.moneyFormat(t.costPerHour)))]),t._v(".\n                ")])],1):t._e()]),t._v(" "),s("div",{staticClass:"card-volta card"},[s("div",{staticClass:"card-header-custom card-header"},[t._v("Slicer Configuration")]),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table"},[s("tbody",[s("tr",[s("th",[t._v("Sliced with")]),t._v(" "),s("td",[t._v(t._s(t.printJob.slicer))])]),t._v(" "),s("tr",[s("th",[t._v("Layer Height")]),t._v(" "),s("td",[t._v(t._s(t.numberFormat(t.printJob.layerHeight))+" mm")])]),t._v(" "),s("tr",[s("th",[t._v("Bed Temperature")]),t._v(" "),s("td",[t._v(t._s(t.numberFormat(t.printJob.bedTemperature))+" °C")])]),t._v(" "),s("tr",[s("th",[t._v("Hot End Temperature")]),t._v(" "),s("td",[t._v(t._s(t.numberFormat(t.printJob.hotendTemperature))+" °C")])]),t._v(" "),s("tr",[s("th",[t._v("Fill Density")]),t._v(" "),s("td",[t._v(t._s(t.numberFormat(t.printJob.fillDensity))+" %")])]),t._v(" "),s("tr",[s("th",[t._v("Perimeter Speed")]),t._v(" "),s("td",[t._v(t._s(t.numberFormat(t.printJob.perimeterSpeed))+" mm/s")])])])])])])])])])},staticRenderFns:[]}},BTbB:function(t,i,s){var e=s("VU/8")(s("LhY8"),s("0xYl"),!1,null,null,null);t.exports=e.exports},LhY8:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=s("nQ6v");i.default={props:["filename"],data:function(){return{printJob:{name:""},filamentDensity:0,filamentDiameter:0,filamentSpool:null,machine:{hourlyRate:null,energy_consumption:null},filamentSpools:[],machines:[],filamentDetails:!1,machineDetails:!1,electricityDetails:!1}},computed:{usedFilamentInVolume:function(){return Math.PI*Math.pow(this.filamentDiameter/2,2)*this.printJob.filamentInLength/1e3},usedFilamentInWeight:function(){return this.usedFilamentInVolume*this.filamentDensity},powerConsumption:function(){if(void 0!==this.machine&&this.machine)return this.printJob.estimatedPrintingTime/3600*this.machine.energy_consumption/1e3},estimatedPrintTime:function(){return Object(e.a)(this.printJob.estimatedPrintingTime)},filamentCost:function(){return this.usedFilamentInWeight*(this.filamentSpool.purchasePrice/this.filamentSpool.weight)},machineCost:function(){if(void 0!==this.machine&&this.machine)return this.printJob.estimatedPrintingTime/3600*this.machine.hourlyRate},electricityCost:function(){return 27*this.powerConsumption},totalCost:function(){return this.filamentCost+this.electricityCost+this.machineCost},costPerHour:function(){return this.totalCost/this.printJob.estimatedPrintingTime*3600}},methods:{updateFilament:function(t){this.filamentDensity=t.density,this.filamentDiameter=t.diameter},updateMachine:function(t){},numberFormat:e.c,moneyFormat:e.b},mounted:function(){var t=this;window.axios.get("/api/printjobs/"+this.filename).then(function(i){i.status>=200&&i.status<=299&&(t.printJob=i.data.attributes,t.filamentDensity=t.printJob.filamentDensity,t.filamentDiameter=t.printJob.filamentDiameter)}),window.axios.get("/api/filamentspools").then(function(i){i.status>=200&&i.status<=299&&i.data.data.forEach(function(i){t.filamentSpools.push({value:spool.attributes,text:spool.attributes.manufacturer+" "+spool.attributes.name})})}),window.axios.get("/api/machines").then(function(i){i.status>=200&&i.status<=299&&i.data.data.forEach(function(i){t.machines.push({value:i.attributes,text:i.attributes.name+" ("+i.attributes.model+")"})})})}}}});